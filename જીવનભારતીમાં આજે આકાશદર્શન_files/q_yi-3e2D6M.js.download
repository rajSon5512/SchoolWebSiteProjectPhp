if (self.CavalryLogger) { CavalryLogger.start_js(["8Q9tZ"]); }

__d("ChatSidebarComposeLink.react",["fbt","ChatOpenTabEventLogger","FantaTabActions","Link.react","MercuryThreads","React","TooltipData"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("MercuryThreads").get();i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(m){j.constructor.call(this,m)}l.prototype.render=function(){var m=h._("New Message");return c("React").createElement(c("Link.react"),babelHelpers["extends"]({className:this.props.className,href:"#",onClick:this.$ChatSidebarComposeLink1},c("TooltipData").propsFor(m,"below")))};l.prototype.$ChatSidebarComposeLink1=function(m){var n=k.createNewLocalThreadGenerateID();c("FantaTabActions").openTab(n,"compose_link");c("ChatOpenTabEventLogger").logClickOpen("sidebar",n);m.preventDefault()};f.exports=l}),null);
__d("ChatTypeaheadWrapper.react",["cx","Arbiter","Bootloader","ChatConfig","ChatOpenTabEventLogger","ChatSidebarActions","ChatSidebarComposeLink.react","ChatSidebarDropdown.react","ChatSidebarGroupCreateButtonReact.bs","ChatSidebarSections","ChatSidebarSheet.react","ChatTypeaheadConstants","FantaTabActions","MercuryIDs","MercuryParticipantTypes","MessengerSearchTypeahead.react","React","SidebarType","emptyFunction","getActiveElement","gkx","ifRequired"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=40,l=c("ChatConfig").get("divebar_rounded_profile",false);function m(o){c("Arbiter").inform("sidebar/typeahead/active",o)}i=babelHelpers.inherits(n,c("React").Component);j=i&&i.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=j.constructor).call.apply(o,[this].concat(r)),this.state={height:0,value:this.getInitialQueryString(),isSearching:!!this.getInitialQueryString()},this.$ChatTypeaheadWrapper1=function(){this.setState({isSearching:false,value:""})}.bind(this),p}n.prototype.getInitialQueryString=function(){var o="";if(c("gkx")("AT6Vd8Lbi8UqLKJqQjAcfopWe5cqEOccp4eiS-V8yRxIDMKBLX2DogknGNtScECqpDmo8hLH8oHxnmHNnFmaPT0QTS-6M2LFaLgAiPg3H1wdHg"))c("ifRequired")("ChatTypeaheadCore",function(p){o=p.getLastSearchQuery()});return o?o:""};n.prototype.componentDidMount=function(){__p&&__p();if(c("gkx")("AT6Vd8Lbi8UqLKJqQjAcfopWe5cqEOccp4eiS-V8yRxIDMKBLX2DogknGNtScECqpDmo8hLH8oHxnmHNnFmaPT0QTS-6M2LFaLgAiPg3H1wdHg")){c("ifRequired")("ChatTypeaheadCore",function(o){o.processInteractionsQueue()});if(this.getInitialQueryString()!=="")m(true)}if(this.props.isSidebar)c("Arbiter").subscribe("sidebar/resized",function(o,p){this.setState({height:p})}.bind(this));else c("Arbiter").subscribe("buddyList/resized",function(o,p){this.setState({height:p})}.bind(this))};n.prototype.UNSAFE_componentWillUpdate=function(o,p){if(p.isSearching!==this.state.isSearching)m(p.isSearching)};n.prototype.render=function(){__p&&__p();var o=this.state.height!=null?Math.floor((this.state.height-k*2)/k):null;return c("React").createElement("div",{id:"chatsearch",className:!l?"squareProfile":""},!c("gkx")("AT6Vd8Lbi8UqLKJqQjAcfopWe5cqEOccp4eiS-V8yRxIDMKBLX2DogknGNtScECqpDmo8hLH8oHxnmHNnFmaPT0QTS-6M2LFaLgAiPg3H1wdHg")?c("React").createElement(c("ChatSidebarSheet.react"),{className:"fbChatSidebarMessage"}):null,c("React").createElement(c("MessengerSearchTypeahead.react"),{className:"_62it",isFacebookChat:true,isFocused:true,maxEntries:o,queryString:this.state.value,viewer:this.props.id,onBlur:this.$ChatTypeaheadWrapper1,onChange:function(p){var q=p.target.value;c("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger"],function(r){r.logQueryChanged(q)},"ChatTypeaheadWrapper.react");this.setState({isSearching:q!=="",value:q})}.bind(this),onClear:c("emptyFunction"),onScrollIntoView:c("emptyFunction"),onSelect:function(p,q){__p&&__p();c("getActiveElement")().blur();if(q===c("ChatTypeaheadConstants").MEETING_ROOM_PAGE_TYPE)c("Bootloader").loadModules(["goURI"],function(s){this.setState({isSearching:false,value:""});var r=c("MercuryIDs").getUserIDFromThreadID(p);s("/"+(r||""))}.bind(this),"ChatTypeaheadWrapper.react");else{c("FantaTabActions").openTab(p,"chat_sidebar_typeahead");var r=null;if(!q||q===c("MercuryParticipantTypes").FRIEND||q===c("ChatTypeaheadConstants").FRIEND_TYPE||q===c("ChatTypeaheadConstants").PAGE_TYPE||q===c("ChatTypeaheadConstants").USER_TYPE)if(c("MercuryIDs").isValidThreadID(p))r=c("MercuryIDs").getUserIDFromThreadID(p);c("ChatOpenTabEventLogger").logClickOpen(c("ChatSidebarSections").TYPEAHEAD,p,r)}}.bind(this)}),this.props.isSidebar?c("React").createElement("div",{className:"_531b"},c("React").createElement(c("ChatSidebarDropdown.react"),{sidebarType:c("SidebarType").SIDEBAR,onToggleSidebar:c("ChatSidebarActions").disable}),c("React").createElement(c("ChatSidebarComposeLink.react"),{className:"_3a-4 _5q85"}),c("React").createElement(c("ChatSidebarGroupCreateButtonReact.bs").jsComponent,null)):null)};f.exports=n}),null);